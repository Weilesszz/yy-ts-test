(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c71015c2"],{"274d":function(e,t,o){"use strict";o("64b2")},"2cb3":function(e,t,o){},"309c":function(e,t,o){"use strict";var a=o("7a23");const n={class:"page-content"},c=Object(a["createTextVNode"])("新建用户"),l=Object(a["createTextVNode"])("刷新"),r={class:"handle-btns"},i=Object(a["createTextVNode"])("编辑"),s=Object(a["createTextVNode"])("删除");function p(e,t,o,p,d,b){const m=Object(a["resolveComponent"])("el-button"),g=Object(a["resolveComponent"])("yy-table");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createVNode"])(g,Object(a["mergeProps"])({listData:e.dataList,listCount:e.dataCount},e.contentTableConfig,{page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),Object(a["createSlots"])({headerHandler:Object(a["withCtx"])(()=>[e.isCreate?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,type:"primary",onClick:e.handleNewClick},{default:Object(a["withCtx"])(()=>[c]),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])(()=>[l]),_:1})]),status:Object(a["withCtx"])(e=>[Object(a["createVNode"])(m,{size:"small",type:e.row.enable?"success":"danger"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.row.enable?"启动":"禁用"),1)]),_:2},1032,["type"])]),createAt:Object(a["withCtx"])(t=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filter.formatTime(t.row.createAt)),1)]),updateAt:Object(a["withCtx"])(t=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filter.formatTime(t.row.updateAt)),1)]),handler:Object(a["withCtx"])(t=>[Object(a["createElementVNode"])("div",r,[e.isUpdate?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,size:"small",type:"primary",link:"",onClick:o=>e.handleEditClick(t.row)},{default:Object(a["withCtx"])(()=>[i]),_:2},1032,["onClick"])):Object(a["createCommentVNode"])("",!0),e.isDelete?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:1,size:"small",type:"primary",link:"",onClick:o=>e.handleDeleteClick(t.row)},{default:Object(a["withCtx"])(()=>[s]),_:2},1032,["onClick"])):Object(a["createCommentVNode"])("",!0)])]),_:2},[Object(a["renderList"])(e.otherPropSlots,t=>({name:t.slotName,fn:Object(a["withCtx"])(o=>[t.slotName?Object(a["renderSlot"])(e.$slots,t.slotName,{key:0,row:o.row},void 0,!0):Object(a["createCommentVNode"])("",!0)])}))]),1040,["listData","listCount","page"])])}const d={class:"table-header"},b={class:"header"},m={class:"title"},g={class:"handle"},u={key:0,class:"footer"};function j(e,t,o,n,c,l){const r=Object(a["resolveComponent"])("el-table-column"),i=Object(a["resolveComponent"])("el-table"),s=Object(a["resolveComponent"])("el-pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",b,[Object(a["renderSlot"])(e.$slots,"header",{},()=>[Object(a["createElementVNode"])("div",m,Object(a["toDisplayString"])(e.title),1),Object(a["createElementVNode"])("div",g,[Object(a["renderSlot"])(e.$slots,"headerHandler",{},void 0,!0)])],!0)])]),Object(a["createVNode"])(i,Object(a["mergeProps"])({data:e.listData,border:"",onSelectionChange:e.handleSelectionChange,style:{width:"100%"}},e.childrenProps),{default:Object(a["withCtx"])(()=>[e.showIndexColumn?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:0,type:"selection",align:"center",width:"60"})):Object(a["createCommentVNode"])("",!0),e.showIndexColumn?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:1,type:"index",label:"序号",align:"center",width:"80"})):Object(a["createCommentVNode"])("",!0),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.propList,t=>(Object(a["openBlock"])(),Object(a["createBlock"])(r,Object(a["mergeProps"])({key:t.prop},t,{align:"center","show-overflow-tooltip":""}),{default:Object(a["withCtx"])(o=>[Object(a["renderSlot"])(e.$slots,t.slotName,{row:o.row},()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.row[t.prop]),1)],!0)]),_:2},1040))),128))]),_:3},16,["data","onSelectionChange"]),e.showFooter?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",u,[Object(a["renderSlot"])(e.$slots,"footer",{},()=>[Object(a["createVNode"])(s,{"page-sizes":[10,20,30],layout:"total, sizes, prev, pager, next, jumper",total:e.listCount,"page-size":e.page.pageSize,"current-page":e.page.currentPage,"onUpdate:pageSize":e.handleSizeChange,"onUpdate:currentPage":e.handleCurrentChange},null,8,["total","page-size","current-page","onUpdate:pageSize","onUpdate:currentPage"])],!0)])):Object(a["createCommentVNode"])("",!0)],64)}var O=Object(a["defineComponent"])({name:"yyTable",props:{title:{type:String,default:""},listData:{type:Array,requited:!0},listCount:{type:Number,requited:!0},propList:{type:Array,requited:!0},showIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},page:{type:Object,default:()=>({currentPage:0,pageSize:10})},childrenProps:{type:Object,default:()=>({})},showFooter:{type:Boolean,default:!0}},emits:["SelectionChange","update:page","update:page"],setup(e,{emit:t}){const o=e=>{t("SelectionChange",e)},a=o=>{console.log("大小变化",o),t("update:page",{...e.page,pageSize:o})},n=o=>{console.log("页数变化",o),t("update:page",{...e.page,currentPage:o})};return{handleSelectionChange:o,handleSizeChange:a,handleCurrentChange:n}}}),C=(o("274d"),o("6b0d")),h=o.n(C);const w=h()(O,[["render",j],["__scopeId","data-v-37f1e532"]]);var N=w,f=N,y=o("0613");function k(e,t){const o=Object(y["c"])(),a=o.state.login.permissions,n=`system:${e}:${t}`;return!!a.find(e=>e===n)}var v=Object(a["defineComponent"])({name:"page-content",props:{contentTableConfig:{type:Object,require:!0},pageName:{type:String,require:!0}},components:{yyTable:f},emits:["newBtnClick","editBtnClick"],setup(e,{emit:t}){var o;const n=Object(y["c"])(),c=k(e.pageName,"create"),l=k(e.pageName,"update"),r=k(e.pageName,"delete"),i=k(e.pageName,"query"),s=Object(a["ref"])({currentPage:1,pageSize:10});Object(a["watch"])(s,()=>p());const p=(t={})=>{i&&(console.log("queryInfo",t),n.dispatch("system/getPageListAction",{pageName:e.pageName,queryInfo:{offset:(s.value.currentPage-1)*s.value.pageSize,size:s.value.pageSize,...t}}))};p();const d=Object(a["computed"])(()=>n.getters["system/pageListData"](e.pageName)),b=Object(a["computed"])(()=>n.getters["system/pageListCount"](e.pageName)),m=null===(o=e.contentTableConfig)||void 0===o?void 0:o.propList.filter(e=>"status"!==e.slotName&&("createAt"!==e.slotName&&("updateAt"!==e.slotName&&"handler"!==e.slotName))),g=t=>{console.log("item",t),n.dispatch("system/deletePageDataAction",{pageName:e.pageName,id:t.id})},u=()=>{t("newBtnClick")},j=e=>{t("editBtnClick",e)};return{dataList:d,dataCount:b,pageInfo:s,otherPropSlots:m,isCreate:c,isUpdate:l,isDelete:r,isQuery:i,getPageData:p,handleDeleteClick:g,handleNewClick:u,handleEditClick:j}}});o("8b03");const S=h()(v,[["render",p],["__scopeId","data-v-039b2866"]]);t["a"]=S},3573:function(e,t,o){"use strict";var a=o("309c");t["a"]=a["a"]},"404f":function(e,t,o){"use strict";o.r(t);var a=o("7a23");const n={class:"goods"};function c(e,t,o,c,l,r){const i=Object(a["resolveComponent"])("el-image"),s=Object(a["resolveComponent"])("page-content");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createVNode"])(s,{contentTableConfig:e.contentTableConfig,pageName:"goods"},{image:Object(a["withCtx"])(e=>[Object(a["createVNode"])(i,{style:{width:"100px",height:"100px"},src:e.row.imgUrl,"preview-src-list":[e.row.imgUrl],"z-index":10,"preview-teleported":""},null,8,["src","preview-src-list"])]),oldPrice:Object(a["withCtx"])(e=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])("￥"+e.row.oldPrice),1)]),_:1},8,["contentTableConfig"])])}var l=o("3573");const r={title:"商品列表",propList:[{prop:"name",label:"商品名称",minWidth:"80"},{prop:"oldPrice",label:"原价格",minWidth:"80",slotName:"oldPrice"},{prop:"newPrice",label:"现价格",minWidth:"80"},{prop:"imgUrl",label:"商品图片",minWidth:"100",slotName:"image"},{prop:"status",label:"状态",minWidth:"100",slotName:"status"},{prop:"createAt",label:"创建时间",minWidth:"250",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"250",slotName:"updateAt"},{label:"操作",minWidth:"120",slotName:"handler"}],showIndexColumn:!0,showSelectColumn:!0};var i=Object(a["defineComponent"])({name:"goods",components:{pageContent:l["a"]},setup(){return{contentTableConfig:r}}}),s=o("6b0d"),p=o.n(s);const d=p()(i,[["render",c]]);t["default"]=d},"64b2":function(e,t,o){},"8b03":function(e,t,o){"use strict";o("2cb3")}}]);
//# sourceMappingURL=chunk-c71015c2.6aceb45c.js.map